<!DOCTYPE html>
<html>

<head lang="en">
    <meta charset="UTF-8">
    <title> Saku API Health Check </title>
 
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="static/css/custom.css">   
    <link type="image/x-icon" href="static/favicon.ico" rel="shortcut icon" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="static/js/prettyDate.js"></script>
    <script src="static/js/index.js"></script>
</head>

<body>
  <nav class="navbar navbar-expand-sm navbar-dark bg-dark ">
    <div class="navbar-brand">
      <img src="static/images/saku_logo.png" alt="Logo" style="width:40px;"/>
    </div>
    <ul class="navbar-nav">
      <li class="nav-item active">
        <a class="nav-link" href="./index.html"> Health Check </a>   
      </li>
      <li class="nav-item">
        <a class="nav-link" href="./query_video.html"> Video </a>   
      </li>
      <li class="nav-item">
        <a class="nav-link" href="./query_account.html"> Account </a>   
      </li>
      <li class="nav-item">
        <a class="nav-link" href="./query_log.html"> Log </a>   
      </li>

      <!-- Dropdown -->
      <li class="nav-item">
        <select class="form-control bg-dark text-white border-white" id="select_env">
          <option value="qa" selected>QA</option>
          <option value="prep">Pre Production</option>
          <option value="prod">Production</option>
        </select>
      </li>
    </ul>
  </nav>

  <br>
  <div class="container">
    <div id="loader" class="loader"></div>
    <div class="card">
      <div class="card-header bg-success text-white" style="font-weight:bold;">
        Health Check
      </div>
      <div class="card-body">
        <div class="input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text">API Target </span>
          </div>
          <select class="form-control" id="text_api_target">
            <option value="BE API" selected>BE API</option>
            <option value="Playback API">Playback API</option>
            <option value="RM API">RM API</option>
            <option value="CMS API">CMS API</option>
            <option value="CMS Web">CMS Web</option>
            <option value="Campaign API">Campaign API</option>
            <option value="Campaign Web">Campaign Web</option>
            <option value="Web">Web</option>
            <option value="Web R20">Web R20</option>
          </select>
          <button id="btn_query_api_health" type="button" class="btn btn-success">Health Check</button>
        </div>

        <!-- <button id="btn_health_history" type="button" class="btn btn-info">Health History</button> -->
        <button id="btn_check_api_status" type="button" class="btn btn-info">API Status</button>
        <button onclick="window.open('https://saku-jenkins-artifact.s3-ap-northeast-1.amazonaws.com/index.html')" type="button" class="btn btn-info">Build Artifact</button>
        <button id="btn_deploy_status" type="button" class="btn btn-success">Deploy Status</button>
        <button id="btn_check_database" type="button" class="btn btn-success">Database Lock</button>
        <button id="btn_check_script" type="button" class="btn btn-success">SQL Script Lock</button>
        
        <button id="btn_check_now" type="button" class="btn btn-danger float-right">Run Now</button>
        <br>
        <br>
        <table class="table table-hover" id="query_result_table">
          <thead>
          </thead>
          <tbody>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Query Warning Modal -->
  <div id="dialog_warning" class="modal fade"  role="dialog">
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-header bg-danger text-white">
          <h4 class="modal-title">Warning</h4>
        </div>
        <div class="modal-body">
          <p id = "dialog_warning_message"></p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-dark" data-dismiss="modal">OK</button>
        </div>
      </div>
    </div>
  </div>
  
</body>
</html>